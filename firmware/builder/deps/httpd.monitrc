# Description:
# This file is the control and configuration file for the
# daemon-monitoring daemon, monit, for the Nest Learning
# Thermostat process, httpd.
#
# Daemon cycles are 5 seconds each so to check every minute,
# its 12 cycles. So 3 minutes is 12*3 = 36
check process httpd matching /usr/sbin/httpd
  start program = "/etc/init.d/nleapi monit_start" with timeout 20 seconds
  stop program = "/etc/init.d/nleapi monit_stop"
  if 5 restarts within 100 cycles then unmonitor